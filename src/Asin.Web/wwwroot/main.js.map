{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/app.routes.ts","./src/app/components/page/page.component.ts","./src/app/components/page/page.component.html","./src/app/container/asin-master/asin-master.component.ts","./src/app/container/asin-master/asin-master.component.html","./src/app/core/models.ts","./src/app/services/amazon.service.ts","./src/app/services/serviceModels/models.ts","./src/app/store/actions.ts","./src/app/store/effects.ts","./src/app/store/model.ts","./src/app/store/selectors.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'AsinApp';\n}\n","<a target=\"_blank\" href=\"https://www.notion.so/Full-stack-Engineering-Home-Project-197b19f9b951460ca0eed359d5acc93d\">SPECIFICATION PROJET</a>\n<app-page>\n  <router-outlet></router-outlet>\n</app-page>","import { BrowserModule } from \"@angular/platform-browser\";\nimport { NgModule } from \"@angular/core\";\n\nimport { routes } from \"./app.routes\";\nimport { AppComponent } from \"./app.component\";\nimport { RouterModule } from \"@angular/router\";\nimport { HttpClientModule } from \"@angular/common/http\";\n\nimport { AsinMasterComponent } from \"./container/asin-master/asin-master.component\";\nimport { PageComponent } from \"./components/page/page.component\";\nimport { FormsModule } from \"@angular/forms\";\nimport { StoreModule } from \"@ngrx/store\";\n\nimport { reducers } from \"./store/actions\";\nimport { AmazonService } from \"./services/amazon.service\";\nimport { EffectsModule } from '@ngrx/effects';\nimport { Effects } from \"./store/effects\";\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\n\n@NgModule({\n  declarations: [AppComponent, AsinMasterComponent, PageComponent],\n  imports: [\n    HttpClientModule,\n    FormsModule,\n    BrowserModule,\n    EffectsModule.forRoot([Effects]),\n    StoreModule.forRoot(reducers),\n    StoreDevtoolsModule.instrument(),\n    RouterModule.forRoot(routes),\n  ],\n  providers: [AmazonService],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","import { Routes } from '@angular/router';\nimport { AsinMasterComponent } from './container/asin-master/asin-master.component';\n\nexport class paths {\n  public static Home: string = \"\";\n  public static Posts: string = \"posts\";\n\n  public static Post(article: string): string {\n    return `${paths.Posts}/${article}`;\n  }\n}\n\nexport const routes: Routes = [\n   { path: paths.Home, component: AsinMasterComponent },\n  // { path: paths.Posts + \"/:post\", component: ArticleComponent }\n];","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-page',\n  templateUrl: './page.component.html',\n  styleUrls: ['./page.component.scss']\n})\nexport class PageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<ng-content></ng-content>\n","import { Component, OnInit } from \"@angular/core\";\nimport { Store } from \"@ngrx/store\";\nimport { Observable } from \"rxjs\";\nimport { AsinStateEnum, EnumLabels } from \"src/app/core/models\";\nimport { StateActions } from \"src/app/store/actions\";\nimport { Asin, IAppState, SimpleRequestState } from \"src/app/store/model\";\nimport { selectAsins, selectAsinsState } from \"src/app/store/selectors\";\n\n@Component({\n  selector: \"app-asin-master\",\n  templateUrl: \"./asin-master.component.html\",\n  styleUrls: [\"./asin-master.component.scss\"],\n})\nexport class AsinMasterComponent implements OnInit {\n  public asin: string;\n  public asinLabels = EnumLabels.AsinState;\n  public ASIN_STATE = AsinStateEnum;\n  public STATE = SimpleRequestState;\n  public asins$: Observable<Asin[]>;\n  public asinsState$: Observable<SimpleRequestState>;\n\n  constructor(private store: Store<IAppState>) {\n    this.asin = \"B082XY23D5\";\n    this.asins$ = store.select(selectAsins);\n    this.asinsState$ = store.select(selectAsinsState);\n\n    this.store.dispatch(StateActions.Main.loading_Asins());\n\n    this.asins$.subscribe((p) => {\n      if (p.filter((asin) => asin.state == AsinStateEnum.Loading).length > 0) {\n        setTimeout(\n          () => this.store.dispatch(StateActions.Main.loading_Asins()),\n          5000\n        );\n      }\n    });\n  }\n  ngOnInit(): void {}\n\n  addAsin() {\n    this.store.dispatch(\n      StateActions.Main.add_Asin(<Asin>{\n        asin: this.asin,\n        state: AsinStateEnum.Loading,\n      })\n    );\n\n    console.log(this.asin);\n  }\n}\n","<div>\n    Ajouter un code ASIN:\n    <form>\n        <input name=\"asin\" [(ngModel)]=\"asin\" />\n        <button [disabled]=\"(asinsState$ | async) != STATE.Loaded\" (click)=\"addAsin()\">Ajouter</button>\n    </form>\n</div>\n<div [ngSwitch]=\"(asinsState$ | async)\">\n    <div *ngSwitchCase=\"STATE.Loaded\">\n\n        <div *ngIf=\"(asins$ | async)?.length == 0;else elseBlock\">\n            aucun éléments\n        </div>\n        <ng-template #elseBlock>\n            <table>\n                <ng-container *ngFor=\"let item of asins$ | async\">\n                    <tr>\n                        <td><a target=\"_blank\"\n                                href=\"https://www.amazon.com/product-reviews/{{item.asin}}\">{{ item.asin }}</a></td>\n                        <td>{{ item.title }}</td>\n                        <td [ngClass]=\"{loading: item.state == 1}\">{{ asinLabels[item.state] }}</td>\n                    </tr>\n                </ng-container>\n            </table>\n        </ng-template>\n    </div>\n\n    <div *ngSwitchCase=\"STATE.Loading\">\n        Loading...\n    </div>\n    <div *ngSwitchCase=\"STATE.Error\">\n        Echec du chargement.\n    </div>\n</div>","export enum AsinStateEnum {\r\n  Loading = 1,\r\n  Loaded = 2,\r\n  Error = 3,\r\n}\r\n\r\nexport const EnumLabels = {\r\n  AsinState: {\r\n    [AsinStateEnum.Error]: \"❌ Erreur de chargement\",\r\n    [AsinStateEnum.Loaded]: \"✅ succès\",\r\n    [AsinStateEnum.Loading]: \"🕔 Chargement en cours\",\r\n  },\r\n};\r\n","import { HttpClient } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs\";\nimport { AsinServiceModel } from \"src/app/services/serviceModels/models\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class AmazonService {\n  constructor(private httpClient: HttpClient) {}\n\n  getAsins(): Observable<AsinServiceModel[]> {\n    let response: Observable<AsinServiceModel[]>;\n\n    response = this.httpClient.get<AsinServiceModel[]>(\"/asins\");\n\n    return response;\n  }\n\n  postAsin(asin: string): Observable<any> {\n   return this.httpClient.post(\"/asins\", { asinCode: asin });\n  }\n}\n","import { Asin } from \"src/app/store/model\";\r\nimport { AsinStateEnum } from \"../../core/models\";\r\n\r\nexport interface AsinServiceModel {\r\n  asin: string;\r\n  title: string;\r\n  state: AsinStateEnum;\r\n}\r\n\r\nexport const ServiceModelMapper = {\r\n  MapToAsin(serviceModel: AsinServiceModel): Asin {\r\n    return <Asin>{\r\n      asin: serviceModel.asin,\r\n      title: serviceModel.title,\r\n      state: serviceModel.state,\r\n    };\r\n  },\r\n};\r\n","import { Asin, IAppState, initialState, MainState, SimpleRequestState } from \"./model\";\r\n\r\nimport {\r\n  ActionReducerMap,\r\n  createAction,\r\n  createReducer,\r\n  on,\r\n  props,\r\n} from \"@ngrx/store\";\r\nimport { AsinServiceModel } from '../services/serviceModels/models';\r\n\r\nexport const StateActions = {\r\n  Main: {\r\n    add_Asin: createAction(\"[Asins] Add ASIN\", props<Asin>()),\r\n    loading_Asins: createAction(\"[Asins] Load ASINs\"),\r\n    loaded_Asins: createAction(\"[Asins] Loaded ASINs\", props<{ asins: AsinServiceModel[]}>()),\r\n  },\r\n};\r\n\r\nfunction LoadingAsinsAction(state: MainState): MainState {\r\n  return {\r\n    ...state,\r\n  };\r\n}\r\n\r\nfunction LoadedAsinsAction(state: MainState, asinsRequest:{asins:AsinServiceModel[]}): MainState {\r\n  return {\r\n    ...state,\r\n    asinsState: SimpleRequestState.Loaded,\r\n    asins: asinsRequest.asins\r\n  };\r\n}\r\n\r\nfunction AddAsinCodeAction(state: MainState, asin: Asin): MainState {\r\n  if (state.asins.find((p) => p.asin == asin.asin)) {\r\n    return {\r\n      ...state\r\n    };\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    asins: [...state.asins, asin],\r\n  };\r\n}\r\n\r\nexport const applicationStateReducer = createReducer<MainState>(\r\n  initialState,\r\n  on(StateActions.Main.add_Asin, AddAsinCodeAction),\r\n  on(StateActions.Main.loading_Asins, LoadingAsinsAction),\r\n  on(StateActions.Main.loaded_Asins, LoadedAsinsAction)\r\n);\r\n\r\nexport const reducers: ActionReducerMap<IAppState> = {\r\n  main: applicationStateReducer,\r\n};\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Actions, Effect, ofType } from \"@ngrx/effects\";\r\nimport { ActionCreator, Creator } from \"@ngrx/store\";\r\nimport { Observable, of } from \"rxjs\";\r\nimport { switchMap } from \"rxjs/operators\";\r\nimport { AmazonService } from \"../services/amazon.service\";\r\nimport { AsinServiceModel, ServiceModelMapper } from '../services/serviceModels/models';\r\nimport { StateActions } from './actions';\r\n\r\n@Injectable()\r\nexport class Effects {\r\n  constructor(private actions$: Actions, private service: AmazonService) {}\r\n\r\n  @Effect()\r\n  $loading_Asins = this.onAction(StateActions.Main.loading_Asins).pipe(\r\n    switchMap((p) =>\r\n      this.service\r\n        .getAsins()\r\n        .pipe(\r\n          switchMap((asins) =>\r\n            of(\r\n              StateActions.Main.loaded_Asins(<{asins:AsinServiceModel[]}>{\r\n                asins: asins.map(ServiceModelMapper.MapToAsin),\r\n              })\r\n            )\r\n          )\r\n        )\r\n    )\r\n  );\r\n\r\n  @Effect()\r\n  $add_Asin = this.onAction(StateActions.Main.add_Asin).pipe(\r\n    switchMap((p) =>\r\n      this.service\r\n        .postAsin(p.asin)\r\n        .pipe(\r\n          switchMap(_ =>\r\n            of(\r\n              // StateActions.Main. loaded_Asins(<{asins:AsinServiceModel[]}>{\r\n              //   asins: asins.map(ServiceModelMapper.MapToAsin),\r\n              // })\r\n            )\r\n          )\r\n        )\r\n    )\r\n  );\r\n\r\n  private onAction<\r\n    TActionType extends string,\r\n    TActionParameter extends Creator,\r\n    TActionCreator extends ActionCreator<TActionType, TActionParameter>,\r\n    TAction = ReturnType<TActionCreator>\r\n  >(action: TActionCreator): Observable<TAction> {\r\n    return this.actions$.pipe(ofType(action));\r\n  }\r\n}\r\n","import { AsinStateEnum } from \"src/app/core/models\";\r\n\r\nexport interface IAppState {\r\n  main: MainState;\r\n}\r\n\r\nexport enum SimpleRequestState{\r\n  Loading = 1,\r\n  Loaded = 2,\r\n  Error = 3\r\n}\r\n\r\n\r\nexport interface MainState {\r\n  asins: Asin[];\r\n  asinsState: SimpleRequestState;\r\n}\r\n\r\nexport interface Asin {\r\n  asin: string;\r\n  title: string;\r\n  state: AsinStateEnum;\r\n}\r\n\r\nexport const initialState: MainState = {\r\n  asins: [],\r\n  asinsState: SimpleRequestState.Loading\r\n};\r\n","import { IAppState, MainState } from './model';\r\nimport { createSelector } from \"@ngrx/store\";\r\n\r\nconst getMain = (state: IAppState) => state.main;\r\n\r\nconst createMainStateSelector = function <T>(\r\n  selector: (state: MainState) => T\r\n) {\r\n  return createSelector(getMain, selector);\r\n};\r\n\r\nexport const selectAsins = createMainStateSelector((p) => p.asins);\r\nexport const selectAsinsState = createMainStateSelector((p) => p.asinsState);","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}